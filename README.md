# LARA_AUBOi5_AG95

ROS packages for running Aubo i5 with DH Robotics AG95 gripper with Moveit and Gazebo.

### Tutorial
---

* Clone these into the src folder of your ROS workspace:

  ```
  cd ~/catkin_ws/src
  git clone https://github.com/ian-chuang/LARA_Aubo_i5_PGC140.git
  git clone https://github.com/ian-chuang/dh_gripper_ros.git
  git clone https://github.com/AuboRobot/aubo_robot.git -b melodic
  git clone https://github.com/roboticsgroup/roboticsgroup_gazebo_plugins.git
  rosdep install -y --from-paths . --ignore-src --rosdistro melodic
  
  cd ~/catkin_ws
  catkin build
  source devel/setup.bash
  ```
  
* Fix random bugs when building (Let me know if you have trouble)

* To run:

  ```
  roslaunch lara_moveit_config demo_gazebo.launch
  ```
  
### Changes I did to get it working:
---
#### lara_description:
* Created aubo_i5_macro.xacro (Aubo i5 URDF macro with added joint transmissions)
* Created pgc140_macro.xacro (PGC140 Gripper URDF with added joint transmissions and mimic joint gazebo plugin)
* Created aubo_i5_pgc140.urdf.xacro (attaches gripper to arm and fixes to world and adds gazebo ros control plugin)
* Created display.launch (displays URDF model in RViz)

#### lara_moveit_config (auto-generated by moveit setup assistant):
* Created gazebo_controllers.yaml (defines arm and gripper controllers and pids for mimic joint gazebo plugin)
* Modified ros_controllers.yaml (tells moveit how to interface with gazebo controllers)
* Modified gazebo.launch (correctly load xacro as urdf, spawn controllers in gazebo_controllers.yaml)
